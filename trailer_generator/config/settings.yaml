# Automated Trailer Generator Configuration

project:
  name: "Automated Trailer Generator"
  output_dir: "output/"
  temp_dir: "temp/"

# Processing settings
processing:
  target_trailer_length: 90  # seconds
  shot_candidate_count: 60
  max_batch_size: 10  # shots per batch
  chunk_duration: 30  # seconds for shot detection
  overlap: 5  # seconds overlap between chunks

# Shot detection
shot_detection:
  threshold: 27.0  # PySceneDetect content threshold
  min_shot_duration: 0.5  # seconds
  max_shot_duration: 10.0  # seconds
  frame_skip: 24 # Frame skip for faster detection (0=no skip, 1=every other frame, 2=every 3rd, etc.)

# Keyframe extraction
keyframe:
  quality: 95  # JPEG quality (1-100)
  method: "middle"  # middle, best, or multiple
  # Performance optimizations
  use_sequential_read: true      # Phase 1: Sequential reading (4-6x faster)
  parallel_extraction: true       # Phase 2: Multi-process parallel (8-12x faster)
  parallel_workers: 0             # Number of workers (0 = auto-detect CPU cores)
  use_gpu_decode: true           # Phase 3: GPU-accelerated decode (15-25x faster)
  gpu_device_id: 0               # GPU device to use (0 = first GPU)
  prefetch_frames: 50            # Frame buffer size for sequential reading

# Remote analysis (Qwen2-VL server)
remote_analysis:
  qwen_server_url: "http://localhost:8000"
  api_key: "helloagorevski"  # API key for qwen_server authentication
  timeout: 30
  max_retries: 3
  batch_size: 10
  cache_enabled: true
  cache_path: "cache/"

# Azure OpenAI
azure_openai:
  endpoint: "https://yourendpoint.openai.azure.com/"
  api_key: "your_key"  # API key for Azure OpenAI
  deployment_name: "gpt-5.1"
  api_version: "2025-01-01-preview"
  max_retries: 3
  temperature: 0.7
  max_completion_tokens: 4000  # Maximum tokens for completion

# Video assembly settings (Stage 8)
video:
  resolution: "1920x1080"
  fps: 24
  codec: "libx264"
  bitrate: "5000k"
  preset: "medium"
  transition_duration: 0.5  # seconds for crossfades
  enable_color_grading: true
  enable_transitions: true
  # AI Features
  ai_title_generation: false  # Use GPT-4 for title card generation
  ai_transition_selection: false  # Use GPT-4 for transition type selection

# Audio mixing settings (Stage 9)
audio:
  music_library_path: "audio_assets/music/"
  effects_library_path: "audio_assets/effects/"
  output_format: "aac"
  sample_rate: 48000
  bitrate: "192k"
  ducking_threshold: -20  # dB threshold for ducking
  ducking_ratio: 4  # Compression ratio for ducking
  normalization_target: -14  # LUFS target for normalization
  # AI Features
  ai_music_selection: false  # Use GPT-4 for music track selection
  fallback_to_original_audio: true  # Use original audio if no music found

# Genre selection (default)
genre: "thriller"

# Logging
logging:
  level: "INFO"
  file: "trailer_generator.log"
  console: true
